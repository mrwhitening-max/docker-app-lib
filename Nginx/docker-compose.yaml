services:
  nginx-proxy-manager:
    image: jc21/nginx-proxy-manager:latest
    container_name: nginx-proxy-manager
    restart: unless-stopped
    ports:
      - "80:80"      # HTTP
      - "443:443"    # HTTPS
      - "81:81"      # Admin Web Interface
    volumes:
      - /data/nginx-proxy-manager/data:/data
      - /data/nginx-proxy-manager/letsencrypt:/etc/letsencrypt
    environment:
      - TZ=Europe/Berlin
      # Optional: MySQL statt SQLite (für bessere Performance)
      # - DB_MYSQL_HOST=db
      # - DB_MYSQL_PORT=3306
      # - DB_MYSQL_USER=npm
      # - DB_MYSQL_PASSWORD=npm
      # - DB_MYSQL_NAME=npm
    # Wenn du interne Services proxyen willst, verbinde mit deren Netzwerk:
    # networks:
    #   - default
    #   - proxy

  # Optional: MariaDB für bessere Performance
  # db:
  #   image: jc21/mariadb-aria:latest
  #   container_name: npm-db
  #   restart: unless-stopped
  #   environment:
  #     - MYSQL_ROOT_PASSWORD=npm
  #     - MYSQL_DATABASE=npm
  #     - MYSQL_USER=npm
  #     - MYSQL_PASSWORD=npm
  #   volumes:
  #     - npm-mysql:/var/lib/mysql

volumes:
  npm-data:
  npm-letsencrypt:
  # npm-mysql:

# networks:
#   proxy:
#     external: true